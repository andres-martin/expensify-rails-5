<% if @expense.errors.empty? %>
    $("#product-modal").on("ajax:success", () => {
       $('table tbody').append('<%= j render 'row', expense: @expense %>');
      
       $('.alert-success .msg p').replaceWith('<%= j flash[:notice] %>'); 
       $('.alert-success').show(); 
       dismissModal();

       const exSum = <%= @expenses.pluck(:amount).sum %>;
       const exCount = <%= @expenses.count %>;
       const exAvg = <%= @expenses.pluck(:amount).sum / @expenses.count %>;
       updateSummaryBox(exSum, exCount, exAvg);
    });
<% else %>
    const arrErrors = []; 
    <% @expense.errors.full_messages.each do |error| %>
     arrErrors.push("<%= error.html_safe %>");
    <% end %>
    console.log(arrErrors);
    addErrors(arrErrors);
<% end %>
