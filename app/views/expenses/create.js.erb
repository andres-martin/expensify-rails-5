<% if @expense.errors.empty? %>
    $("#product-modal").on("ajax:success", () => {
        $('table tbody').append('<%= j render 'row', expense: @expense %>');
        $("#product-modal").remove();
        $('.modal-backdrop').remove();
        $('body').removeClass('modal-open')
    });

<% else %>

    $('#concept label').addClass('text-danger');
    $('#concept input').addClass('error');
    const arrErrors = []; 
    <% @expense.errors.full_messages.each do |error| %>
     arrErrors.push("<%= error.html_safe %>");
    <% end %>

    let errors = {};
    arrErrors.map((error) => {
        let errorArr = error.split(' ');
        let key = errorArr[0];
        let errorMsg = errorArr.slice(1).join(" ");
        errors[key] = errorMsg;
        console.log(Object.values(errors));
        console.log(errors);
        $(`#${error.split(' ', 1)[0].toLowerCase()} p`).text(`${errors[key]}`).show();
    });


<% end %>

        $("").text().show();
